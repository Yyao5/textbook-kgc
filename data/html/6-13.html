<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2299.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Times}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 10.0px Helvetica}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 7.5px Helvetica}
    span.s1 {color: #000066}
    span.s2 {font: 10.0px Helvetica}
    span.s3 {font: 7.5px Helvetica}
    span.s4 {font: 7.5px Times}
    span.s5 {font: 10.0px Times}
  </style>
</head>
<body>
<p class="p1">Now we turn our attention to applications of the analysis in Section <span class="s1">6.12 </span>and discuss scheduling of</p>
<p class="p1"><span class="s2">MapReduce </span>applications on the cloud subject to deadlines. Several options for scheduling Apache</p>
<p class="p1"><span class="s2">Hadoop</span>, an open-source implementation of the <span class="s2">MapReduce </span>algorithm, are:</p>
<p class="p1">• The default FIFO schedule.</p>
<p class="p1">• The Fair Scheduler [<span class="s1">383</span>].</p>
<p class="p1">• The Capacity Scheduler.</p>
<p class="p1">• The Dynamic Proportional Scheduler [<span class="s1">315</span>].</p>
<p class="p1">A recent paper [<span class="s1">186</span>] applies the deadline scheduling framework analyzed to <span class="s2">Hadoop </span>tasks. Table <span class="s1">6.8</span></p>
<p class="p1">summarizes the notations used for the analysis of <span class="s2">Hadoop</span>; the term<span class="s2">slots </span>is equivalent with <span class="s2">nodes </span>and</p>
<p class="p1">means the number of instances.</p>
<p class="p1">We make two assumptions for our initial derivation:</p>
<p class="p1">• The system is homogeneous; this means that <span class="s2">ρ</span><span class="s3">m </span>and <span class="s2">ρ</span><span class="s3">r </span>, the cost of processing a unit data by the</p>
<p class="p1"><span class="s2">map </span>and the <span class="s2">reduce </span>task, respectively, are the same for all servers.</p>
<p class="p1">• Load equipartition.</p>
<p class="p1">Under these conditions the duration of the job <span class="s2">J </span>with input of size <span class="s2">σ </span>is</p>
<p class="p2">E(n<span class="s3">m</span>, n<span class="s3">r</span>, σ) = σ</p>
<p class="p2"> </p>
<p class="p3"><span class="s2">ρ</span>m</p>
<p class="p3"><span class="s2">n</span>m</p>
<p class="p2">+ φ</p>
<p class="p2"> </p>
<p class="p3"><span class="s2">ρ</span>r</p>
<p class="p3"><span class="s2">n</span>r</p>
<p class="p2">+ τ</p>
<p class="p2">  </p>
<p class="p1"><span class="s2">. </span>(6.86)</p>
<p class="p1">Thus, the condition that query <span class="s2">Q = (A, σ, D) </span>with arrival time <span class="s2">A </span>meets the deadline <span class="s2">D </span>can be</p>
<p class="p1">expressed as</p>
<p class="p3"><span class="s2">t</span><span class="s4">0</span>m</p>
<p class="p2">+ σ</p>
<p class="p2"> </p>
<p class="p3"><span class="s2">ρ</span>m</p>
<p class="p3"><span class="s2">n</span>m</p>
<p class="p2">+ φ</p>
<p class="p2"> </p>
<p class="p3"><span class="s2">ρ</span>r</p>
<p class="p3"><span class="s2">n</span>r</p>
<p class="p2">+ τ</p>
<p class="p2">  </p>
<p class="p2">  A + D. <span class="s5">(6.87)</span></p>
<p class="p1">It follows immediately that the maximum value for the start-up time of the <span class="s2">reduce </span>task is</p>
<p class="p3"><span class="s2">t</span>max</p>
<p class="p3">r</p>
<p class="p2">= A + D − σφ</p>
<p class="p2"> </p>
<p class="p3"><span class="s2">ρ</span>r</p>
<p class="p3"><span class="s2">n</span>r</p>
<p class="p2">+ τ</p>
<p class="p2"> </p>
<p class="p1"><span class="s2">. </span>(6.88)</p>
<p class="p1">We now plug the expression of the maximum value for the start-up time of the <span class="s2">reduce </span>task into the</p>
<p class="p1">condition to meet the deadline</p>
<p class="p3"><span class="s2">t</span><span class="s4">0</span>m</p>
<p class="p2">+ σ</p>
<p class="p3"><span class="s2">ρ</span>m</p>
<p class="p3"><span class="s2">n</span>m</p>
<p class="p3"><span class="s2">  t</span>max</p>
<p class="p1"><span class="s3">r </span><span class="s2">. </span>(6.89)</p>
<p class="p1">It follows immediately that <span class="s2">n</span><span class="s3">min</span></p>
<p class="p1"><span class="s3">m </span>, the minimum number of slots for the <span class="s2">map </span>task, satisfies the condition</p>
<p class="p3"><span class="s2">n</span>min</p>
<p class="p2"><span class="s3">m </span>  σρ<span class="s3">m</span></p>
<p class="p3"><span class="s2">t</span>max</p>
<p class="p3">r</p>
<p class="p2">− t<span class="s4">0</span><span class="s3">m</span></p>
<p class="p2">, <span class="s5">thus</span>, n<span class="s3">min</span></p>
<p class="p3">m</p>
<p class="p2">=<span class="Apple-converted-space">  </span>σρ<span class="s3">m</span></p>
<p class="p3"><span class="s2">t</span>max</p>
<p class="p3">r</p>
<p class="p2">− t<span class="s4">0</span><span class="s3">m</span></p>
<p class="p1"><span class="s2"> . </span>(6.90)</p>
<p class="p1">The assumption of homogeneity of the servers can be relaxed and we assume that individual servers</p>
<p class="p1">have different costs for processing a unit workload <span class="s2">ρ</span><span class="s3">im</span></p>
<p class="p2"> = ρ</p>
<p class="p3">jm</p>
<p class="p1">and <span class="s2">ρ</span><span class="s3">i</span></p>
<p class="p3">t</p>
<p class="p2"> = ρ</p>
<p class="p3">j</p>
<p class="p1"><span class="s3">t </span>. In this case we can use the</p>
<p class="p1">minimum values <span class="s2">ρ</span><span class="s3">m </span><span class="s2">= </span>min <span class="s2">ρ</span><span class="s3">im </span>and <span class="s2">ρ</span><span class="s3">r </span><span class="s2">= </span>min <span class="s2">ρ</span><span class="s3">ir</span></p>
<p class="p1">in the expression we derived. A Constraints Scheduler based on this analysis and an evaluation of the effectiveness of this scheduler</p>
<p class="p1">are presented in [<span class="s1">186</span>].</p>
</body>
</html>
